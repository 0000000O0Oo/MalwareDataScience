import magic, optparse

def getFile():
    parser = optparse.OptionParser()
    parser.add_option("-f", "--file", dest="filename", help="Enter the name of the file you want to scan")
    (options, arguments) = parser.parse_args()
    if not options.filename:
        parser.error("Please enter a filename using the -f or --file arguments !")
    else:
        return options.filename

def determineType(file):
    m = magic.Magic(mime=False, uncompress=True if file.endswith('.exe') else uncompress=False)
    ftype = m.from_file(file)
    print(ftype)



file = getFile()
determineType(file)
